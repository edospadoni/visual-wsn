// Do not edit this file; automatically generated by build.py.
"use strict";


// Copyright 2012 Google Inc.  Apache License 2.0
Blockly.JavaScript=new Blockly.Generator("JavaScript");Blockly.JavaScript.addReservedWords("Blockly,break,case,catch,continue,debugger,default,delete,do,else,finally,for,function,if,in,instanceof,new,return,switch,this,throw,try,typeof,var,void,while,with,class,enum,export,extends,import,super,implements,interface,let,package,private,protected,public,static,yield,const,null,true,false,Array,ArrayBuffer,Boolean,Date,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Error,eval,EvalError,Float32Array,Float64Array,Function,Infinity,Int16Array,Int32Array,Int8Array,isFinite,isNaN,Iterator,JSON,Math,NaN,Number,Object,parseFloat,parseInt,RangeError,ReferenceError,RegExp,StopIteration,String,SyntaxError,TypeError,Uint16Array,Uint32Array,Uint8Array,Uint8ClampedArray,undefined,uneval,URIError,applicationCache,closed,Components,content,_content,controllers,crypto,defaultStatus,dialogArguments,directories,document,frameElement,frames,fullScreen,globalStorage,history,innerHeight,innerWidth,length,location,locationbar,localStorage,menubar,messageManager,mozAnimationStartTime,mozInnerScreenX,mozInnerScreenY,mozPaintCount,name,navigator,opener,outerHeight,outerWidth,pageXOffset,pageYOffset,parent,performance,personalbar,pkcs11,returnValue,screen,screenX,screenY,scrollbars,scrollMaxX,scrollMaxY,scrollX,scrollY,self,sessionStorage,sidebar,status,statusbar,toolbar,top,URL,window,addEventListener,alert,atob,back,blur,btoa,captureEvents,clearImmediate,clearInterval,clearTimeout,close,confirm,disableExternalCapture,dispatchEvent,dump,enableExternalCapture,escape,find,focus,forward,GeckoActiveXObject,getAttention,getAttentionWithCycleCount,getComputedStyle,getSelection,home,matchMedia,maximize,minimize,moveBy,moveTo,mozRequestAnimationFrame,open,openDialog,postMessage,print,prompt,QueryInterface,releaseEvents,removeEventListener,resizeBy,resizeTo,restore,routeEvent,scroll,scrollBy,scrollByLines,scrollByPages,scrollTo,setCursor,setImmediate,setInterval,setResizable,setTimeout,showModalDialog,sizeToContent,stop,unescape,updateCommands,XPCNativeWrapper,XPCSafeJSObjectWrapper,onabort,onbeforeunload,onblur,onchange,onclick,onclose,oncontextmenu,ondevicemotion,ondeviceorientation,ondragdrop,onerror,onfocus,onhashchange,onkeydown,onkeypress,onkeyup,onload,onmousedown,onmousemove,onmouseout,onmouseover,onmouseup,onmozbeforepaint,onpaint,onpopstate,onreset,onresize,onscroll,onselect,onsubmit,onunload,onpageshow,onpagehide,Image,Option,Worker,Event,Range,File,FileReader,Blob,BlobBuilder,Attr,CDATASection,CharacterData,Comment,console,DocumentFragment,DocumentType,DomConfiguration,DOMError,DOMErrorHandler,DOMException,DOMImplementation,DOMImplementationList,DOMImplementationRegistry,DOMImplementationSource,DOMLocator,DOMObject,DOMString,DOMStringList,DOMTimeStamp,DOMUserData,Entity,EntityReference,MediaQueryList,MediaQueryListListener,NameList,NamedNodeMap,Node,NodeFilter,NodeIterator,NodeList,Notation,Plugin,PluginArray,ProcessingInstruction,SharedWorker,Text,TimeRanges,Treewalker,TypeInfo,UserDataHandler,Worker,WorkerGlobalScope,HTMLDocument,HTMLElement,HTMLAnchorElement,HTMLAppletElement,HTMLAudioElement,HTMLAreaElement,HTMLBaseElement,HTMLBaseFontElement,HTMLBodyElement,HTMLBRElement,HTMLButtonElement,HTMLCanvasElement,HTMLDirectoryElement,HTMLDivElement,HTMLDListElement,HTMLEmbedElement,HTMLFieldSetElement,HTMLFontElement,HTMLFormElement,HTMLFrameElement,HTMLFrameSetElement,HTMLHeadElement,HTMLHeadingElement,HTMLHtmlElement,HTMLHRElement,HTMLIFrameElement,HTMLImageElement,HTMLInputElement,HTMLKeygenElement,HTMLLabelElement,HTMLLIElement,HTMLLinkElement,HTMLMapElement,HTMLMenuElement,HTMLMetaElement,HTMLModElement,HTMLObjectElement,HTMLOListElement,HTMLOptGroupElement,HTMLOptionElement,HTMLOutputElement,HTMLParagraphElement,HTMLParamElement,HTMLPreElement,HTMLQuoteElement,HTMLScriptElement,HTMLSelectElement,HTMLSourceElement,HTMLSpanElement,HTMLStyleElement,HTMLTableElement,HTMLTableCaptionElement,HTMLTableCellElement,HTMLTableDataCellElement,HTMLTableHeaderCellElement,HTMLTableColElement,HTMLTableRowElement,HTMLTableSectionElement,HTMLTextAreaElement,HTMLTimeElement,HTMLTitleElement,HTMLTrackElement,HTMLUListElement,HTMLUnknownElement,HTMLVideoElement,HTMLCanvasElement,CanvasRenderingContext2D,CanvasGradient,CanvasPattern,TextMetrics,ImageData,CanvasPixelArray,HTMLAudioElement,HTMLVideoElement,NotifyAudioAvailableEvent,HTMLCollection,HTMLAllCollection,HTMLFormControlsCollection,HTMLOptionsCollection,HTMLPropertiesCollection,DOMTokenList,DOMSettableTokenList,DOMStringMap,RadioNodeList,SVGDocument,SVGElement,SVGAElement,SVGAltGlyphElement,SVGAltGlyphDefElement,SVGAltGlyphItemElement,SVGAnimationElement,SVGAnimateElement,SVGAnimateColorElement,SVGAnimateMotionElement,SVGAnimateTransformElement,SVGSetElement,SVGCircleElement,SVGClipPathElement,SVGColorProfileElement,SVGCursorElement,SVGDefsElement,SVGDescElement,SVGEllipseElement,SVGFilterElement,SVGFilterPrimitiveStandardAttributes,SVGFEBlendElement,SVGFEColorMatrixElement,SVGFEComponentTransferElement,SVGFECompositeElement,SVGFEConvolveMatrixElement,SVGFEDiffuseLightingElement,SVGFEDisplacementMapElement,SVGFEDistantLightElement,SVGFEFloodElement,SVGFEGaussianBlurElement,SVGFEImageElement,SVGFEMergeElement,SVGFEMergeNodeElement,SVGFEMorphologyElement,SVGFEOffsetElement,SVGFEPointLightElement,SVGFESpecularLightingElement,SVGFESpotLightElement,SVGFETileElement,SVGFETurbulenceElement,SVGComponentTransferFunctionElement,SVGFEFuncRElement,SVGFEFuncGElement,SVGFEFuncBElement,SVGFEFuncAElement,SVGFontElement,SVGFontFaceElement,SVGFontFaceFormatElement,SVGFontFaceNameElement,SVGFontFaceSrcElement,SVGFontFaceUriElement,SVGForeignObjectElement,SVGGElement,SVGGlyphElement,SVGGlyphRefElement,SVGGradientElement,SVGLinearGradientElement,SVGRadialGradientElement,SVGHKernElement,SVGImageElement,SVGLineElement,SVGMarkerElement,SVGMaskElement,SVGMetadataElement,SVGMissingGlyphElement,SVGMPathElement,SVGPathElement,SVGPatternElement,SVGPolylineElement,SVGPolygonElement,SVGRectElement,SVGScriptElement,SVGStopElement,SVGStyleElement,SVGSVGElement,SVGSwitchElement,SVGSymbolElement,SVGTextElement,SVGTextPathElement,SVGTitleElement,SVGTRefElement,SVGTSpanElement,SVGUseElement,SVGViewElement,SVGVKernElement,SVGAngle,SVGColor,SVGICCColor,SVGElementInstance,SVGElementInstanceList,SVGLength,SVGLengthList,SVGMatrix,SVGNumber,SVGNumberList,SVGPaint,SVGPoint,SVGPointList,SVGPreserveAspectRatio,SVGRect,SVGStringList,SVGTransform,SVGTransformList,SVGAnimatedAngle,SVGAnimatedBoolean,SVGAnimatedEnumeration,SVGAnimatedInteger,SVGAnimatedLength,SVGAnimatedLengthList,SVGAnimatedNumber,SVGAnimatedNumberList,SVGAnimatedPreserveAspectRatio,SVGAnimatedRect,SVGAnimatedString,SVGAnimatedTransformList,SVGPathSegList,SVGPathSeg,SVGPathSegArcAbs,SVGPathSegArcRel,SVGPathSegClosePath,SVGPathSegCurvetoCubicAbs,SVGPathSegCurvetoCubicRel,SVGPathSegCurvetoCubicSmoothAbs,SVGPathSegCurvetoCubicSmoothRel,SVGPathSegCurvetoQuadraticAbs,SVGPathSegCurvetoQuadraticRel,SVGPathSegCurvetoQuadraticSmoothAbs,SVGPathSegCurvetoQuadraticSmoothRel,SVGPathSegLinetoAbs,SVGPathSegLinetoHorizontalAbs,SVGPathSegLinetoHorizontalRel,SVGPathSegLinetoRel,SVGPathSegLinetoVerticalAbs,SVGPathSegLinetoVerticalRel,SVGPathSegMovetoAbs,SVGPathSegMovetoRel,ElementTimeControl,TimeEvent,SVGAnimatedPathData,SVGAnimatedPoints,SVGColorProfileRule,SVGCSSRule,SVGExternalResourcesRequired,SVGFitToViewBox,SVGLangSpace,SVGLocatable,SVGRenderingIntent,SVGStylable,SVGTests,SVGTextContentElement,SVGTextPositioningElement,SVGTransformable,SVGUnitTypes,SVGURIReference,SVGViewSpec,SVGZoomAndPan");
Blockly.JavaScript.ORDER_ATOMIC=0;Blockly.JavaScript.ORDER_MEMBER=1;Blockly.JavaScript.ORDER_NEW=1;Blockly.JavaScript.ORDER_FUNCTION_CALL=2;Blockly.JavaScript.ORDER_INCREMENT=3;Blockly.JavaScript.ORDER_DECREMENT=3;Blockly.JavaScript.ORDER_LOGICAL_NOT=4;Blockly.JavaScript.ORDER_BITWISE_NOT=4;Blockly.JavaScript.ORDER_UNARY_PLUS=4;Blockly.JavaScript.ORDER_UNARY_NEGATION=4;Blockly.JavaScript.ORDER_TYPEOF=4;Blockly.JavaScript.ORDER_VOID=4;Blockly.JavaScript.ORDER_DELETE=4;
Blockly.JavaScript.ORDER_MULTIPLICATION=5;Blockly.JavaScript.ORDER_DIVISION=5;Blockly.JavaScript.ORDER_MODULUS=5;Blockly.JavaScript.ORDER_ADDITION=6;Blockly.JavaScript.ORDER_SUBTRACTION=6;Blockly.JavaScript.ORDER_BITWISE_SHIFT=7;Blockly.JavaScript.ORDER_RELATIONAL=8;Blockly.JavaScript.ORDER_IN=8;Blockly.JavaScript.ORDER_INSTANCEOF=8;Blockly.JavaScript.ORDER_EQUALITY=9;Blockly.JavaScript.ORDER_BITWISE_AND=10;Blockly.JavaScript.ORDER_BITWISE_XOR=11;Blockly.JavaScript.ORDER_BITWISE_OR=12;
Blockly.JavaScript.ORDER_LOGICAL_AND=13;Blockly.JavaScript.ORDER_LOGICAL_OR=14;Blockly.JavaScript.ORDER_CONDITIONAL=15;Blockly.JavaScript.ORDER_ASSIGNMENT=16;Blockly.JavaScript.ORDER_COMMA=17;Blockly.JavaScript.ORDER_NONE=99;function isInArray(a,b){return-1<b.indexOf(a)}function isInt(a){return 0===a%1}function getBlocksTop(a,b){for(var c=a.getChildren(),d=0;d<c.length;d++)b.push(c[d]),0<c[d].getChildren().length&&getBlocksTop(c[d],b);return b}
Blockly.JavaScript.init=function(a){Blockly.JavaScript.definitions_=Object.create(null);Blockly.JavaScript.functionNames_=Object.create(null);Blockly.JavaScript.variableDB_?Blockly.JavaScript.variableDB_.reset():Blockly.JavaScript.variableDB_=new Blockly.Names(Blockly.JavaScript.RESERVED_WORDS_);var b=[];a=getBlocksTop(a,[]);for(var c="",d="",e="",g=0;g<a.length;g++){if("init_shared_integer"==a[g].type){var f=a[g].getFieldValue("VAR");Blockly.JavaScript.valueToCode(a[g],"VALUE",Blockly.JavaScript.ORDER_ATOMIC);
d+="static short "+f+";\n"}"init_shared_boolean"==a[g].type&&(f=a[g].getFieldValue("VAR"),Blockly.JavaScript.valueToCode(a[g],"VALUE",Blockly.JavaScript.ORDER_ATOMIC),d+="static boolean "+f+";\n");"init_shared_string"==a[g].type&&(f=a[g].getFieldValue("VAR"),Blockly.JavaScript.valueToCode(a[g],"VALUE",Blockly.JavaScript.ORDER_ATOMIC),d+="static String "+f+";\n");"select_protocol"==a[g].type&&(e="static public Network network = new Network(Protocol."+a[g].getFieldValue("PROTOCOL")+");\n");if("read_dios"==
a[g].type||"write_dios"==a[g].type)c+="DigitalPin digit[] = new DigitalPin[4];\ndigit[0] = new DigitalPin(false, DigitalPin.DIO0);\ndigit[1] = new DigitalPin(false, DigitalPin.DIO1);\ndigit[2] = new DigitalPin(false, DigitalPin.DIO2);\ndigit[3] = new DigitalPin(false, DigitalPin.DIO3);\n";if("trigger_event"==a[g].type&&(f=a[g].getVars))for(var f=f.call(a[g]),h=0;h<f.length;h++){var k=f[h];isInArray(k,b)||(b.push(k),c+="Semaphore sem_"+k+" = new Semaphore((short)0);\nEventThread_"+k+" th_"+k+" = new EventThread_"+
k+"(sem_"+k+");\nth_"+k+".start();\n")}if("wait_event"==a[g].type&&(f=a[g].getVars))for(f=f.call(a[g]),h=0;h<f.length;h++)k=f[h],isInArray(k,b)||(b.push(k),c+="Semaphore sem_"+k+" = new Semaphore((short)0);\nEventThread_"+k+" th_"+k+" = new EventThread_"+k+"(sem_"+k+");\nth_"+k+".start();\n")}return[c,d,e]};
Blockly.JavaScript.finish=function(a){return"import java.lang.*;\nimport javax.virtualsense.powermanagement.*;\nimport javax.virtualsense.sensors.*;\nimport javax.virtualsense.digitalio.*;\nimport javax.virtualsense.digitalio.bus.*;\nimport javax.virtualsense.concurrent.*;\nimport javax.virtualsense.actuators.*;\nimport javax.virtualsense.network.*;\nimport javax.virtualsense.network.protocols.minpath.*;\nimport javax.virtualsense.*;\nimport javax.virtualsense.VirtualSense;\nimport javax.virtualsense.utils.*;\nimport javax.virtualsense.platform.InfoMsg;\n\n\n"+a};
Blockly.JavaScript.scrubNakedValue=function(a){return a+";\n"};Blockly.JavaScript.quote_=function(a){a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,'\\"');return'"'+a+'"'};
Blockly.JavaScript.scrub_=function(a,b){var c="";if(!a.outputConnection||!a.outputConnection.targetConnection){var d=a.getCommentText();d&&(c+=Blockly.JavaScript.prefixLines(d,"// ")+"\n");for(var e=0;e<a.inputList.length;e++)a.inputList[e].type==Blockly.INPUT_VALUE&&(d=a.inputList[e].connection.targetBlock())&&(d=Blockly.JavaScript.allNestedComments(d))&&(c+=Blockly.JavaScript.prefixLines(d,"// "))}e=a.nextConnection&&a.nextConnection.targetBlock();e=Blockly.JavaScript.blockToCode(e);return c+b+
e};/*

 Virtualsense Ad Hoc Blocks

 Copyright 2014 Edoardo Spadoni
 http://tesi.edoardospadoni.it/

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
Blockly.JavaScript.events={};Blockly.JavaScript.z_event_start=function(a){return Blockly.JavaScript.statementToCode(a,"NAME")};function isInArray(a,b){return-1<b.indexOf(a)}Blockly.JavaScript.trigger_event=function(a){return"sem_"+a.getFieldValue("EVENT")+".release();\n"};Blockly.JavaScript.wait_event=function(a){return"sem_"+Blockly.JavaScript.variableDB_.getName(a.getFieldValue("EVENT"),Blockly.Variables.NAME_TYPE)+".acquire();\n"};
Blockly.JavaScript.when_event=function(a){Blockly.JavaScript.variableDB_.getName(a.getFieldValue("EVENT"),Blockly.Variables.NAME_TYPE);return Blockly.JavaScript.statementToCode(a,"CODE")};Blockly.JavaScript.when_interrupt=function(a){var b=a.getFieldValue("PIN");a=Blockly.JavaScript.statementToCode(a,"CODE");return b="this.int_"+b+".waitForInterrupt();\n"+a+"\n"};
Blockly.JavaScript.wait_interrupt=function(a){a=a.getFieldValue("PIN");return"InterruptPin int_"+a+" = new InterruptPin(true, InterruptPin."+a+");\nint_"+a+".waitForInterrupt();\n"};Blockly.JavaScript.set_timer_interrupt=function(a){var b=Blockly.JavaScript.valueToCode(a,"TIME_NUM",Blockly.JavaScript.ORDER_ATOMIC);return"PowerManager.scheduleRTCInterruptAfter("+("h"==a.getFieldValue("TIME")?"("+b+")*60":b)+");\n"};
Blockly.JavaScript.when_timer_interrupt=function(a){return Blockly.JavaScript.statementToCode(a,"NAME")};Blockly.JavaScript.wait_timer_interrupt=function(a){return"..."};
// Copyright 2012 Google Inc.  Apache License 2.0
Blockly.JavaScript.logic={};Blockly.JavaScript.logic_compare=function(a){var b={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[a.getFieldValue("OP")],c="=="==b||"!="==b?Blockly.JavaScript.ORDER_EQUALITY:Blockly.JavaScript.ORDER_RELATIONAL,d=Blockly.JavaScript.valueToCode(a,"A",c)||"0";a=Blockly.JavaScript.valueToCode(a,"B",c)||"0";return[d+" "+b+" "+a,c]};
Blockly.JavaScript.logic_operation=function(a){var b="AND"==a.getFieldValue("OP")?"&&":"||",c="&&"==b?Blockly.JavaScript.ORDER_LOGICAL_AND:Blockly.JavaScript.ORDER_LOGICAL_OR,d=Blockly.JavaScript.valueToCode(a,"A",c);a=Blockly.JavaScript.valueToCode(a,"B",c);if(d||a){var e="&&"==b?"true":"false";d||(d=e);a||(a=e)}else a=d="false";return[d+" "+b+" "+a,c]};
Blockly.JavaScript.logic_negate=function(a){var b=Blockly.JavaScript.ORDER_LOGICAL_NOT;return["!"+(Blockly.JavaScript.valueToCode(a,"BOOL",b)||"true"),b]};Blockly.JavaScript.logic_boolean=function(a){return["TRUE"==a.getFieldValue("BOOL")?"true":"false",Blockly.JavaScript.ORDER_ATOMIC]};
// Copyright 2012 Google Inc.  Apache License 2.0
Blockly.JavaScript.loops={};
Blockly.JavaScript.controls_if=function(a){for(var b=0,c=Blockly.JavaScript.valueToCode(a,"IF"+b,Blockly.JavaScript.ORDER_NONE)||"false",d=Blockly.JavaScript.statementToCode(a,"DO"+b),e="if ("+c+") {\n"+d+"}",b=1;b<=a.elseifCount_;b++)c=Blockly.JavaScript.valueToCode(a,"IF"+b,Blockly.JavaScript.ORDER_NONE)||"false",d=Blockly.JavaScript.statementToCode(a,"DO"+b),e+=" else if ("+c+") {\n"+d+"}";a.elseCount_&&(d=Blockly.JavaScript.statementToCode(a,"ELSE"),e+=" else {\n"+d+"}");return e+"\n"};
Blockly.JavaScript.controls_repeat=function(a){var b=Number(a.getFieldValue("TIMES")),c=Blockly.JavaScript.statementToCode(a,"DO"),c=Blockly.JavaScript.addLoopTrap(c,a.id);a=Blockly.JavaScript.variableDB_.getDistinctName("count",Blockly.Variables.NAME_TYPE);return"for (short "+a+" = 0; "+a+" < "+b+"; "+a+"++) {\n"+c+"}\n"};
Blockly.JavaScript.controls_repeat_ext=function(a){var b=Blockly.JavaScript.valueToCode(a,"TIMES",Blockly.JavaScript.ORDER_ASSIGNMENT)||"0",c=Blockly.JavaScript.statementToCode(a,"DO"),c=Blockly.JavaScript.addLoopTrap(c,a.id);a="";var d=Blockly.JavaScript.variableDB_.getDistinctName("count",Blockly.Variables.NAME_TYPE),e=b;b.match(/^\w+$/)||Blockly.isNumber(b)||(e=Blockly.JavaScript.variableDB_.getDistinctName("repeat_end",Blockly.Variables.NAME_TYPE),a+="var "+e+" = "+b+";\n");return a+("for (short "+
d+" = 0; "+d+" < "+e+"; "+d+"++) {\n"+c+"}\n")};Blockly.JavaScript.controls_whileUntil=function(a){var b=Blockly.JavaScript.valueToCode(a,"BOOL",Blockly.JavaScript.ORDER_NONE)||"false",c=Blockly.JavaScript.statementToCode(a,"DO"),c=Blockly.JavaScript.addLoopTrap(c,a.id);return"while ("+b+") {\n"+c+"}\n"};
Blockly.JavaScript.controls_for=function(a){var b=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE),c=Blockly.JavaScript.valueToCode(a,"FROM",Blockly.JavaScript.ORDER_ASSIGNMENT)||"0",d=Blockly.JavaScript.valueToCode(a,"TO",Blockly.JavaScript.ORDER_ASSIGNMENT)||"0",e=Blockly.JavaScript.valueToCode(a,"BY",Blockly.JavaScript.ORDER_ASSIGNMENT)||"1",g=Blockly.JavaScript.statementToCode(a,"DO"),g=Blockly.JavaScript.addLoopTrap(g,a.id);if(Blockly.isNumber(c)&&Blockly.isNumber(d)&&
Blockly.isNumber(e)){var f=parseFloat(c)<=parseFloat(d);a="for (short "+b+" = "+c+"; "+b+(f?" <= ":" >= ")+d+"; "+b;b=Math.abs(parseFloat(e));a=(1==b?a+(f?"++":"--"):a+((f?" += ":" -= ")+b))+(") {\n"+g+"}\n")}else a="",f=c,c.match(/^\w+$/)||Blockly.isNumber(c)||(f=Blockly.JavaScript.variableDB_.getDistinctName(b+"_start",Blockly.Variables.NAME_TYPE),a+="var "+f+" = "+c+";\n"),c=d,d.match(/^\w+$/)||Blockly.isNumber(d)||(c=Blockly.JavaScript.variableDB_.getDistinctName(b+"_end",Blockly.Variables.NAME_TYPE),
a+="var "+c+" = "+d+";\n"),d=Blockly.JavaScript.variableDB_.getDistinctName(b+"_inc",Blockly.Variables.NAME_TYPE),a+="var "+d+" = ",a=Blockly.isNumber(e)?a+(Math.abs(e)+";\n"):a+("Math.abs("+e+");\n"),a+="if ("+f+" > "+c+") {\n",a+=Blockly.JavaScript.INDENT+d+" = -"+d+";\n",a+="}\n",a+="for ("+b+" = "+f+";\n     "+d+" >= 0 ? "+b+" <= "+c+" : "+b+" >= "+c+";\n     "+b+" += "+d+") {\n"+g+"}\n";return a};
// Copyright 2012 Google Inc.  Apache License 2.0
Blockly.JavaScript.math={};Blockly.JavaScript.math_number=function(a){return[a.getFieldValue("NUM"),Blockly.JavaScript.ORDER_ATOMIC]};
Blockly.JavaScript.math_arithmetic=function(a){var b={ADD:[" + ",Blockly.JavaScript.ORDER_ADDITION],MINUS:[" - ",Blockly.JavaScript.ORDER_SUBTRACTION],MULTIPLY:[" * ",Blockly.JavaScript.ORDER_MULTIPLICATION],DIVIDE:[" / ",Blockly.JavaScript.ORDER_DIVISION]}[a.getFieldValue("OP")],c=b[0],b=b[1],d=Blockly.JavaScript.valueToCode(a,"A",b)||"0";a=Blockly.JavaScript.valueToCode(a,"B",b)||"0";return["(short)("+d+c+a+")",b]};
Blockly.JavaScript.math_modulo=function(a){var b=Blockly.JavaScript.valueToCode(a,"DIVIDEND",Blockly.JavaScript.ORDER_MODULUS)||"0";a=Blockly.JavaScript.valueToCode(a,"DIVISOR",Blockly.JavaScript.ORDER_MODULUS)||"0";return["(short)("+b+" % "+a+")",Blockly.JavaScript.ORDER_MODULUS]};
// Copyright 2012 Google Inc.  Apache License 2.0
Blockly.JavaScript.messages={};Blockly.JavaScript.select_protocol=function(a){a.getFieldValue("PROTOCOL");return""};Blockly.JavaScript.send_int_msg=function(a){return"InterestMsg intMsg = new InterestMsg();\nintMsg.epoch = 1;\nintMsg.hops = 0;\nintMsg.nodeID = VirtualSense.getNodeId();\nintMsg.label = DataMsg."+a.getFieldValue("DATA_MSG")+";\nVSenseApp.network.send(intMsg);\n"};
Blockly.JavaScript.send_data_msg=function(a){var b=Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_ATOMIC),c=a.getFieldValue("META");a=Blockly.JavaScript.valueToCode(a,"NODE_ID",Blockly.JavaScript.ORDER_ATOMIC);return"DataMsg msg = new DataMsg(nodeId,(short)0);\nmsg.label = DataMsg."+c+";\nmsg.value = "+b+";\nVSenseApp.network.sendTo(msg, "+a+");\n"};
Blockly.JavaScript.receive_int_msg=function(a){var b=a.getFieldValue("INT_MSG");a=Blockly.JavaScript.statementToCode(a,"NAME");return"Packet p = VSenseApp.network.receive();if(p instanceof InterestMsg){InterestMsg d = (InterestMsg)p;if(d.label == DataMsg."+b+"){\n"+a+'\n}\n} else {System.out.println("UNKNOWN");}\n'};
Blockly.JavaScript.receive_data_msg=function(a){var b=a.getFieldValue("DATA_MSG");a=Blockly.JavaScript.statementToCode(a,"NAME");return"Packet p = VSenseApp.network.receive();if(p instanceof DataMsg){DataMsg d = (DataMsg)p;if(d.label == DataMsg."+b+"){\n"+a+'\n}\n} else {System.out.println("UNKNOWN");}\n'};Blockly.JavaScript.node_id=function(a){return["VirtualSense.getNodeId()",Blockly.JavaScript.ORDER_NONE]};Blockly.JavaScript.msg_sender_id=function(a){return["d.sender_id",Blockly.JavaScript.ORDER_NONE]};
Blockly.JavaScript.msg_value=function(a){return["d.value",Blockly.JavaScript.ORDER_NONE]};Blockly.JavaScript.add_node_list=function(a){return"NodeList.add("+Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_ATOMIC)+");\n"};Blockly.JavaScript.contains_node_list=function(a){return["NodeList.contains("+Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_ATOMIC)+")",Blockly.JavaScript.ORDER_NONE]};Blockly.JavaScript.clear_node_list=function(a){return"NodeList.clear();\n"};
Blockly.JavaScript.size_node_list=function(a){return["NodeList.size()",Blockly.JavaScript.ORDER_NONE]};
// Copyright 2012 Google Inc.  Apache License 2.0
Blockly.JavaScript.procedures={};
Blockly.JavaScript.procedures_defreturn_integer=function(a){var b=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("NAME"),Blockly.Procedures.NAME_TYPE),c=Blockly.JavaScript.statementToCode(a,"STACK");Blockly.JavaScript.STATEMENT_PREFIX&&(c=Blockly.JavaScript.prefixLines(Blockly.JavaScript.STATEMENT_PREFIX.replace(/%1/g,"'"+a.id+"'"),Blockly.JavaScript.INDENT)+c);Blockly.JavaScript.INFINITE_LOOP_TRAP&&(c=Blockly.JavaScript.INFINITE_LOOP_TRAP.replace(/%1/g,"'"+a.id+"'")+c);var d=Blockly.JavaScript.valueToCode(a,
"RETURN",Blockly.JavaScript.ORDER_NONE)||"";d&&(d="  return "+d+";\n");for(var e=[],g=[],f=[],h=0;h<a.arguments_.length;h++)e[h]=Blockly.JavaScript.variableDB_.getName(a.arguments_[h],Blockly.Variables.NAME_TYPE),g[h]=a.types_[h],f.push(g[h]+" "+e[h]);b="public static short "+b+"("+f.join(", ")+") {\n";a=Blockly.JavaScript.scrub_(a,c+d+"}");return[a,b]};
Blockly.JavaScript.procedures_defreturn_boolean=function(a){var b=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("NAME"),Blockly.Procedures.NAME_TYPE),c=Blockly.JavaScript.statementToCode(a,"STACK");Blockly.JavaScript.STATEMENT_PREFIX&&(c=Blockly.JavaScript.prefixLines(Blockly.JavaScript.STATEMENT_PREFIX.replace(/%1/g,"'"+a.id+"'"),Blockly.JavaScript.INDENT)+c);Blockly.JavaScript.INFINITE_LOOP_TRAP&&(c=Blockly.JavaScript.INFINITE_LOOP_TRAP.replace(/%1/g,"'"+a.id+"'")+c);var d=Blockly.JavaScript.valueToCode(a,
"RETURN",Blockly.JavaScript.ORDER_NONE)||"";d&&(d="  return "+d+";\n");for(var e=[],g=[],f=[],h=0;h<a.arguments_.length;h++)e[h]=Blockly.JavaScript.variableDB_.getName(a.arguments_[h],Blockly.Variables.NAME_TYPE),g[h]=a.types_[h],f.push(g[h]+" "+e[h]);b="public static boolean "+b+"("+f.join(", ")+") {\n";a=Blockly.JavaScript.scrub_(a,c+d+"}");return[a,b]};
Blockly.JavaScript.procedures_defreturn_string=function(a){var b=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("NAME"),Blockly.Procedures.NAME_TYPE),c=Blockly.JavaScript.statementToCode(a,"STACK");Blockly.JavaScript.STATEMENT_PREFIX&&(c=Blockly.JavaScript.prefixLines(Blockly.JavaScript.STATEMENT_PREFIX.replace(/%1/g,"'"+a.id+"'"),Blockly.JavaScript.INDENT)+c);Blockly.JavaScript.INFINITE_LOOP_TRAP&&(c=Blockly.JavaScript.INFINITE_LOOP_TRAP.replace(/%1/g,"'"+a.id+"'")+c);var d=Blockly.JavaScript.valueToCode(a,
"RETURN",Blockly.JavaScript.ORDER_NONE)||"";d&&(d="  return "+d+";\n");for(var e=[],g=[],f=[],h=0;h<a.arguments_.length;h++)e[h]=Blockly.JavaScript.variableDB_.getName(a.arguments_[h],Blockly.Variables.NAME_TYPE),g[h]=a.types_[h],f.push(g[h]+" "+e[h]);b="public static String "+b+"("+f.join(", ")+") {\n";a=Blockly.JavaScript.scrub_(a,c+d+"}");return[a,b]};
Blockly.JavaScript.procedures_defnoreturn=function(a){var b=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("NAME"),Blockly.Procedures.NAME_TYPE),c=Blockly.JavaScript.statementToCode(a,"STACK");Blockly.JavaScript.STATEMENT_PREFIX&&(c=Blockly.JavaScript.prefixLines(Blockly.JavaScript.STATEMENT_PREFIX.replace(/%1/g,"'"+a.id+"'"),Blockly.JavaScript.INDENT)+c);Blockly.JavaScript.INFINITE_LOOP_TRAP&&(c=Blockly.JavaScript.INFINITE_LOOP_TRAP.replace(/%1/g,"'"+a.id+"'")+c);for(var d=[],e=[],g=[],f=
0;f<a.arguments_.length;f++)d[f]=Blockly.JavaScript.variableDB_.getName(a.arguments_[f],Blockly.Variables.NAME_TYPE),e[f]=a.types_[f],g.push(e[f]+" "+d[f]);b="public static void "+b+"("+g.join(", ")+") {\n";a=Blockly.JavaScript.scrub_(a,c+"}");return[a,b]};
Blockly.JavaScript.procedures_callreturn_integer=function(a){for(var b=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("NAME"),Blockly.Procedures.NAME_TYPE),c=[],d=0;d<a.arguments_.length;d++)c[d]=Blockly.JavaScript.valueToCode(a,"ARG"+d,Blockly.JavaScript.ORDER_COMMA)||"null";return["Procedures."+b+"("+c.join(", ")+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]};
Blockly.JavaScript.procedures_callreturn_boolean=function(a){for(var b=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("NAME"),Blockly.Procedures.NAME_TYPE),c=[],d=0;d<a.arguments_.length;d++)c[d]=Blockly.JavaScript.valueToCode(a,"ARG"+d,Blockly.JavaScript.ORDER_COMMA)||"null";return["Procedures."+b+"("+c.join(", ")+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]};
Blockly.JavaScript.procedures_callreturn_string=function(a){for(var b=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("NAME"),Blockly.Procedures.NAME_TYPE),c=[],d=0;d<a.arguments_.length;d++)c[d]=Blockly.JavaScript.valueToCode(a,"ARG"+d,Blockly.JavaScript.ORDER_COMMA)||"null";return["Procedures."+b+"("+c.join(", ")+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]};
Blockly.JavaScript.procedures_callnoreturn=function(a){for(var b=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("NAME"),Blockly.Procedures.NAME_TYPE),c=[],d=0;d<a.arguments_.length;d++)c[d]=Blockly.JavaScript.valueToCode(a,"ARG"+d,Blockly.JavaScript.ORDER_COMMA)||"null";return"Procedures."+b+"("+c.join(", ")+");\n"};
// Copyright 2012 Google Inc.  Apache License 2.0
Blockly.JavaScript.text={};Blockly.JavaScript.text=function(a){return[Blockly.JavaScript.quote_(a.getFieldValue("TEXT")),Blockly.JavaScript.ORDER_ATOMIC]};Blockly.JavaScript.text_length=function(a){return[(Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_FUNCTION_CALL)||"''")+".length()",Blockly.JavaScript.ORDER_MEMBER]};Blockly.JavaScript.text_isEmpty=function(a){return["("+(Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_MEMBER)||"''")+".length() == 0)",Blockly.JavaScript.ORDER_NONE]};
Blockly.JavaScript.equals_string=function(a){var b=Blockly.JavaScript.valueToCode(a,"STRING_ONE",Blockly.JavaScript.ORDER_ATOMIC);a=Blockly.JavaScript.valueToCode(a,"STRING_TWO",Blockly.JavaScript.ORDER_ATOMIC);return[b+".equals("+a+")",Blockly.JavaScript.ORDER_NONE]};
// Copyright 2012 Google Inc.  Apache License 2.0
Blockly.JavaScript.variables={};Blockly.JavaScript.get_integer=function(a){return[Blockly.JavaScript.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE),Blockly.JavaScript.ORDER_ATOMIC]};Blockly.JavaScript.get_boolean=function(a){return[Blockly.JavaScript.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE),Blockly.JavaScript.ORDER_ATOMIC]};
Blockly.JavaScript.get_string=function(a){return[Blockly.JavaScript.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE),Blockly.JavaScript.ORDER_ATOMIC]};Blockly.JavaScript.set_integer=function(a){var b=Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_ATOMIC);return Blockly.JavaScript.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE)+" = "+b+";\n"};
Blockly.JavaScript.set_boolean=function(a){var b=Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_ATOMIC);return Blockly.JavaScript.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE)+" = "+b+";\n"};Blockly.JavaScript.set_string=function(a){var b=Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_ATOMIC);return Blockly.JavaScript.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE)+" = "+b+";\n"};
Blockly.JavaScript.init_integer=function(a){var b=Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_ATOMIC);return"short "+a.getFieldValue("VAR")+" = "+b+";\n"};Blockly.JavaScript.init_shared_integer=function(a){Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_ATOMIC);a.getFieldValue("VAR");return""};
Blockly.JavaScript.init_boolean=function(a){var b=Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_ATOMIC);return"boolean "+a.getFieldValue("VAR")+" = "+b+";\n"};Blockly.JavaScript.init_shared_boolean=function(a){Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_ATOMIC);a.getFieldValue("VAR");return""};
Blockly.JavaScript.init_string=function(a){var b=Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_ATOMIC);return"String "+a.getFieldValue("VAR")+" = "+b+";\n"};Blockly.JavaScript.init_shared_string=function(a){Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_ATOMIC);a.getFieldValue("VAR");return""};/*

 Virtualsense Ad Hoc Blocks

 Copyright 2014 Edoardo Spadoni
 http://tesi.edoardospadoni.it/

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
Blockly.JavaScript.vsense={};Blockly.JavaScript.set_leds=function(a){var b=Blockly.JavaScript.valueToCode(a,"LED_NUM",Blockly.JavaScript.ORDER_ATOMIC);a=Blockly.JavaScript.valueToCode(a,"LED_STATE",Blockly.JavaScript.ORDER_ATOMIC);return"Leds.setLed("+b+","+a+");\n"};Blockly.JavaScript.read_dios=function(a){return["digit["+Blockly.JavaScript.valueToCode(a,"DIOS",Blockly.JavaScript.ORDER_ATOMIC)+"].read()",Blockly.JavaScript.ORDER_NONE]};
Blockly.JavaScript.write_dios=function(a){var b=Blockly.JavaScript.valueToCode(a,"DIOS",Blockly.JavaScript.ORDER_ATOMIC);a=Blockly.JavaScript.valueToCode(a,"DIOS_STATE",Blockly.JavaScript.ORDER_ATOMIC);return"digit["+b+"].write("+a+");\n"};Blockly.JavaScript.config_adc=function(a){var b=a.getFieldValue("CHANNEL");a=a.getFieldValue("REF");return["ADC.readIntRef(ADC."+b+", ADC."+a+")",Blockly.JavaScript.ORDER_NONE]};
Blockly.JavaScript.sleep_mcu=function(a){var b=Blockly.JavaScript.valueToCode(a,"TIME_NUM",Blockly.JavaScript.ORDER_ATOMIC);return"PowerManager.deepSleep("+("h"==a.getFieldValue("TIME")?"("+b+")*60":b)+");\n"};Blockly.JavaScript.standby_mcu=function(a){var b=Blockly.JavaScript.valueToCode(a,"TIME_NUM",Blockly.JavaScript.ORDER_ATOMIC);return"PowerManager.scheduleRTCInterruptAfter("+("h"==a.getFieldValue("TIME")?"("+b+")*60":b)+");\nPowerManager.standby();\n"};
Blockly.JavaScript.hybernate_mcu=function(a){var b=Blockly.JavaScript.valueToCode(a,"TIME_NUM",Blockly.JavaScript.ORDER_ATOMIC);return"PowerManager.systemHibernation("+("h"==a.getFieldValue("TIME")?"("+b+")*60":b)+");\n"};Blockly.JavaScript.mcu_frequency=function(a){return"PowerManager.setMCUFrequency(PowerManager."+a.getFieldValue("FREQUENCY")+");\n"};
Blockly.JavaScript.sensors_read=function(a){a=a.getFieldValue("SENSORS");var b="";"et"==a&&(b="(short)(Temperature.getValue()/100)");"it"==a&&(b="(short)(Temperature.getBoardValue()/100)");"l"==a&&(b="(short)(Light.getValue())");"h"==a&&(b="(short)(Pressure.getValue())");return[b,Blockly.JavaScript.ORDER_ATOMIC]};
Blockly.JavaScript.wait=function(a){var b=Blockly.JavaScript.valueToCode(a,"TIME_NUMBER",Blockly.JavaScript.ORDER_ATOMIC);a=a.getFieldValue("TIME_UNIT");var c=0;"ms"==a&&(c="("+b+")");"s"==a&&(c="("+b+")*1000");"m"==a&&(c="("+b+")*1000*60");"h"==a&&(c="("+b+")*1000*60*60");return"Thread.sleep("+c+");\n"};Blockly.JavaScript.print_serial=function(a){return"System.out.print("+Blockly.JavaScript.valueToCode(a,"NAME",Blockly.JavaScript.ORDER_ATOMIC)+");\n"};
Blockly.JavaScript.print_line_serial=function(a){return"System.out.println("+Blockly.JavaScript.valueToCode(a,"NAME",Blockly.JavaScript.ORDER_ATOMIC)+");\n"};Blockly.JavaScript.read_serial=function(a){return["UART.readline()",Blockly.JavaScript.ORDER_NONE]};Blockly.JavaScript.command_receive=function(a){var b=Blockly.JavaScript.statementToCode(a,"BODY");a.getFieldValue("COMMAND");return b};
Blockly.JavaScript.command_receive_return=function(a){var b=Blockly.JavaScript.statementToCode(a,"BODY");Blockly.JavaScript.valueToCode(a,"RETURN",Blockly.JavaScript.ORDER_ATOMIC);a.getFieldValue("COMMAND");return b};Blockly.JavaScript.send_value_companion=function(a){return"CompanionApp.sendValue("+Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_ATOMIC)+");\n"};